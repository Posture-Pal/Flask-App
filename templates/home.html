{% extends "base.html" %}

{% block title %}PosturePal - Home{% endblock %}

{% block content %}
<div class="marginContainer">
<div class="greeting"><p>Hello, {{ user }}!</p></div> <!-- Shows "Hello" followed by the user's name after they log in -->

<div class="postureGoalContainer">
    <div class="percentPosture">85%</div> <!-- TODO Replace 85% with actual posture score -->
    <div>You are meeting your posture goal!</div> <!-- TODO Replace with conditional message to display if they are meeting their posture goal -->
</div>

<div class="usageContainer">
    <div class="usageContainerFlex">
        <div class="usageCard">
            <img class="navicons" src="https://img.icons8.com/fluency-systems-regular/50/2b617d/clock--v1.png" alt="clock icon" />
            <div class="usageSmallText">Usage Today</div>
            <div class="usageBoldText">11 Hours</div> <!-- TODO Replace with actual usage -->
        </div>
        <div class="usageCard">
            <img class="navicons" src="https://img.icons8.com/fluency-systems-regular/50/2b617d/push-notifications.png" alt="notifications icon" />
            <div class="usageSmallText">Reminders</div>
            <div class="usageBoldText">7</div> <!-- TODO Replace with actual usage -->
        </div>
        <div class="usageCard">
            <img class="navicons" src="https://img.icons8.com/windows/32/2b617d/inclination.png" alt="angle icon" />
            <div class="usageSmallText">Average Angle</div>
            <div class="usageBoldText">15°</div> <!-- TODO Replace with actual usage -->
        </div>
    </div>
</div>
<a href="{{ url_for('logout') }}">Logout</a>
    <div>
        <button id="power-btn" >Turn On Sensor</button>
        <button id="power-off-btn">Turn Off Sensor</button>
    </div>
    <div id="data-container" style="margin-top: 20px;">
        <h3>Received Data:</h3>
        <p id="slouch-status">Slouch: --</p>
        <p id="temperature-status">Temperature Status: --</p>
        <p id="temperature-value">Temperature: -- °C</p>
        <p id="humidity-status">Humidity Status: --</p>
        <p id="humidity-value">Humidity: --%</p>
        <p id="pitch-value">Pitch: --</p>
        <p id="gravity-vector">Gravity Vector: --</p>
    </div>

    <div>
        <button id="calibrate-btn">Calibrate Posture</button>

        <table id="threshold-table" border="1" style="margin-top: 20px; display: none;">
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody id="threshold-values">
            </tbody>
        </table>
    </div>

    <div>
        <label>
            <input type="checkbox" id="sound-toggle" />
            Sound Mode
        </label>
        <label>
            <input type="checkbox" id="vibration-toggle" />
            Vibration Mode
        </label>
    </div>

    <div>   
        <button id="view-statistics-btn">Show Statistics</button>
    <h1>User Statistics</h1>

    <h2>Power Sessions</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Power On</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody id="power-sessions-table"></tbody>
    </table>

    <h2>Sensor Data</h2>
        <table border="1">
            <thead>
                <tr>
                    <th>Temperature</th>
                    <th>Temperature Status</th>
                    <th>Humidity</th>
                    <th>Humidity Status</th>
                    <th>Pitch</th>
                    <th>Gravity X</th>
                    <th>Gravity Y</th>
                    <th>Gravity Z</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody id="sensor-data-table"></tbody>
        </table>
    </div>

    <canvas id="lineGraph" width="600" height="400"></canvas>



</div>
{% endblock %}